<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{base :: head-resources}"></head>
    <body>
        <div th:replace="~{base :: layout(~{::content})}">
            <div th:fragment="content">

                <h3 class="my-4" th:text="${lesson.id != null ? '‚úè S·ª≠a Lesson' : '‚ûï Th√™m Lesson'}"></h3>

                <!-- Form th√™m Lesson -->
                <form th:if="${lesson.id == null}"
                      th:action="@{'/admin/courses/sections/' + ${sectionId} + '/lessons/add'}"
                      th:object="${lesson}" method="post" class="row g-3 needs-validation" novalidate>

                    <!-- Ti√™u ƒë·ªÅ -->
                    <div class="col-md-6">
                        <label class="form-label">Ti√™u ƒë·ªÅ *</label>
                        <input type="text" th:field="*{title}" class="form-control" required/>
                        <div class="text-danger" th:errors="*{title}"></div>
                    </div>

                    <!-- Lo·∫°i n·ªôi dung -->
                    <div class="col-md-3">
                        <label class="form-label">Lo·∫°i n·ªôi dung *</label>
                        <select th:field="*{contentType}" class="form-select" required>
                            <option value="">-- Ch·ªçn lo·∫°i --</option>
                            <option value="mp4">Video (mp4)</option>
                            <option value="pdf">T√†i li·ªáu (pdf)</option>
                            <option value="txt">Text</option>
                        </select>
                        <div class="text-danger" th:errors="*{contentType}"></div>
                    </div>

                    <!-- ƒê∆∞·ªùng d·∫´n n·ªôi dung -->
                    <div class="col-md-9">
                        <label class="form-label">ƒê∆∞·ªùng d·∫´n n·ªôi dung *</label>
                        <input type="text" th:field="*{contentUrl}" class="form-control" placeholder="http://..." required/>
                        <div class="text-danger" th:errors="*{contentUrl}"></div>
                    </div>

                    <!-- Th·ªùi l∆∞·ª£ng -->
                    <div class="col-md-3">
                        <label class="form-label">Th·ªùi l∆∞·ª£ng (ph√∫t) *</label>
                        <input type="number" th:field="*{durationMin}" class="form-control" min="1" required/>
                        <div class="text-danger" th:errors="*{durationMin}"></div>
                    </div>

                    <!-- Th·ª© t·ª± -->
                    <div class="col-md-3">
                        <label class="form-label">Th·ª© t·ª± *</label>
                        <input type="number" th:field="*{orderIndex}" class="form-control" min="1" required/>
                        <div class="text-danger" th:errors="*{orderIndex}"></div>
                    </div>

                    <!-- Previewable -->
                    <div class="col-md-3 d-flex align-items-center">
                        <div class="form-check mt-4">
                            <input class="form-check-input" type="checkbox" th:field="*{previewable}" id="previewable-add"/>
                            <label class="form-check-label" for="previewable-add">Cho ph√©p Preview</label>
                        </div>
                    </div>

                    <!-- N√∫t -->
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">üíæ Th√™m m·ªõi</button>
                        <a th:href="@{'/admin/courses/sections/' + ${sectionId} + '/lessons'}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
                    </div>
                </form>

                <!-- Form s·ª≠a Lesson -->
                <form th:if="${lesson.id != null}"
                      th:action="@{'/admin/courses/sections/' + ${sectionId} + '/lessons/' + ${lesson.id} + '/edit'}"
                      th:object="${lesson}" method="post" class="row g-3 needs-validation" novalidate>

                    <!-- Ti√™u ƒë·ªÅ -->
                    <div class="col-md-6">
                        <label class="form-label">Ti√™u ƒë·ªÅ *</label>
                        <input type="text" th:field="*{title}" class="form-control" required/>
                        <div class="text-danger" th:errors="*{title}"></div>
                    </div>

                    <!-- Lo·∫°i n·ªôi dung -->
                    <div class="col-md-3">
                        <label class="form-label">Lo·∫°i n·ªôi dung *</label>
                        <select th:field="*{contentType}" class="form-select" required>
                            <option value="">-- Ch·ªçn lo·∫°i --</option>
                            <option value="mp4">Video (mp4)</option>
                            <option value="pdf">T√†i li·ªáu (pdf)</option>
                            <option value="txt">Text</option>
                        </select>
                        <div class="text-danger" th:errors="*{contentType}"></div>
                    </div>

                    <!-- ƒê∆∞·ªùng d·∫´n n·ªôi dung -->
                    <div class="col-md-9">
                        <label class="form-label">ƒê∆∞·ªùng d·∫´n n·ªôi dung *</label>
                        <input type="text" th:field="*{contentUrl}" class="form-control" placeholder="http://..." required/>
                        <div class="text-danger" th:errors="*{contentUrl}"></div>
                    </div>

                    <!-- Th·ªùi l∆∞·ª£ng -->
                    <div class="col-md-3">
                        <label class="form-label">Th·ªùi l∆∞·ª£ng (ph√∫t) *</label>
                        <input type="number" th:field="*{durationMin}" class="form-control" min="1" required/>
                        <div class="text-danger" th:errors="*{durationMin}"></div>
                    </div>

                    <!-- Th·ª© t·ª± -->
                    <div class="col-md-3">
                        <label class="form-label">Th·ª© t·ª± *</label>
                        <input type="number" th:field="*{orderIndex}" class="form-control" min="1" required/>
                        <div class="text-danger" th:errors="*{orderIndex}"></div>
                    </div>

                    <!-- Previewable -->
                    <div class="col-md-3 d-flex align-items-center">
                        <div class="form-check mt-4">
                            <input class="form-check-input" type="checkbox" th:field="*{previewable}" id="previewable-edit"/>
                            <label class="form-check-label" for="previewable-edit">Cho ph√©p Preview</label>
                        </div>
                    </div>

                    <!-- N√∫t -->
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">üíæ C·∫≠p nh·∫≠t</button>
                        <a th:href="@{'/admin/courses/sections/' + ${sectionId} + '/lessons'}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
                    </div>
                </form>

            </div>
        </div>
    </body>
</html>
