<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head-resources}"></head>
<body>
<div th:replace="~{base :: layout(~{::content})}">
<div th:fragment="content">

    <h2 class="my-4" th:text="${course.id != null ? '‚úè S·ª≠a Kho√° h·ªçc' : '‚ûï Th√™m Kho√° h·ªçc'}"></h2>

    <form th:action="@{${course.id != null ? '/admin/courses/' + course.id + '/edit' : '/admin/courses/add'}}"
          th:object="${course}" method="post" enctype="multipart/form-data" class="row g-3">

        <!-- Ti√™u ƒë·ªÅ -->
        <div class="col-md-6">
            <label class="form-label">Ti√™u ƒë·ªÅ *</label>
            <input type="text" th:field="*{title}" class="form-control"/>
            <div class="text-danger" th:errors="*{title}"></div>
        </div>

        <!-- Slug -->
        <div class="col-md-6">
            <label class="form-label">Slug *</label>
            <input type="text" th:field="*{slug}" class="form-control"/>
            <div class="text-danger" th:errors="*{slug}"></div>
        </div>

        <!-- M√¥ t·∫£ -->
        <div class="col-12">
            <label class="form-label">M√¥ t·∫£</label>
            <textarea th:field="*{description}" rows="4" class="form-control"></textarea>
            <div class="text-danger" th:errors="*{description}"></div>
        </div>

        <!-- Gi√° + Ti·ªÅn t·ªá + Th·ªùi l∆∞·ª£ng -->
        <div class="col-md-4">
            <label class="form-label">Gi√° (VND)</label>
            <input type="number" th:field="*{price}" class="form-control" min="0" step="1000"/>
            <div class="text-danger" th:errors="*{price}"></div>
        </div>
        <div class="col-md-2">
            <label class="form-label">Ti·ªÅn t·ªá</label>
            <input type="text" th:field="*{currency}" maxlength="3" class="form-control"/>
            <div class="text-danger" th:errors="*{currency}"></div>
        </div>
        <div class="col-md-2">
            <label class="form-label">Th·ªùi l∆∞·ª£ng (gi·ªù)</label>
            <input type="number" th:field="*{durationHours}" class="form-control" step="0.5" min="1"/>
            <div class="text-danger" th:errors="*{durationHours}"></div>
        </div>

        <!-- Danh m·ª•c -->
        <div class="col-md-4">
            <label class="form-label">Danh m·ª•c *</label>
            <select th:field="*{categoryId}" class="form-select">
                <option value="">-- Ch·ªçn danh m·ª•c --</option>
                <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
            </select>
            <div class="text-danger" th:errors="*{categoryId}"></div>
        </div>

        <!-- Gi·∫£ng vi√™n -->
        <div class="col-md-6">
            <label class="form-label">Gi·∫£ng vi√™n *</label>
            <select th:field="*{instructorId}" class="form-select">
                <option value="">-- Ch·ªçn gi·∫£ng vi√™n --</option>
                <option th:each="i : ${instructors}" th:value="${i.user.id}" th:text="${i.user.fullName}"></option>
            </select>
            <div class="text-danger" th:errors="*{instructorId}"></div>
        </div>

        <!-- Tr·∫°ng th√°i -->
        <div class="col-md-6">
            <label class="form-label">Tr·∫°ng th√°i *</label>
            <select th:field="*{status}" class="form-select">
                <option value="DRAFT">Nh√°p</option>
                <option value="PUBLISHED">Xu·∫•t b·∫£n</option>
                <option value="ARCHIVED">L∆∞u tr·ªØ</option>
            </select>
            <div class="text-danger" th:errors="*{status}"></div>
        </div>

        <!-- ·∫¢nh b√¨a -->
        <div class="col-md-6">
            <label class="form-label">·∫¢nh b√¨a</label>
            <input type="file" th:field="*{coverFile}" class="form-control" accept="image/*"/>
            <div class="text-danger" th:errors="*{coverFile}"></div>

            <img th:if="*{coverImage}" th:src="*{coverImage}" class="img-thumbnail mt-2" style="max-height:150px;"/>
        </div>

        <!-- N√∫t -->
        <div class="col-12">
            <button type="submit" class="btn btn-primary">
                üíæ <span th:text="${course.id != null ? 'C·∫≠p nh·∫≠t' : 'Th√™m m·ªõi'}"></span>
            </button>
            <a th:href="@{/admin/courses}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
        </div>
    </form>

</div>
</div>
</body>
</html>
