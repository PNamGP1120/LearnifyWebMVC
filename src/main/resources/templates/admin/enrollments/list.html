<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head-resources}"></head>
<body>
<div th:replace="~{base :: layout(~{::content})}">
  <div th:fragment="content">

    <h2 class="my-4">๐ Quแบฃn lรฝ Ghi danh (Enrollments)</h2>

    <div class="mb-3">
      <a class="btn btn-primary" th:href="@{/admin/enrollments/new}">โ Thรชm Enrollment</a>
    </div>

    <table class="table table-bordered table-striped shadow">
      <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Hแปc viรชn</th>
        <th>Khoรก hแปc</th>
        <th>Ngรy ghi danh</th>
        <th>Trแบกng thรกi</th>
        <th>Hรnh ฤแปng</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="e : ${enrollments}">
        <td th:text="${e.id}"></td>
        <td th:text="${e.studentId.fullName}"></td>
        <td th:text="${e.courseId.title}"></td>
        <td th:text="${#dates.format(e.enrolledAt,'dd/MM/yyyy')}"></td>
        <td>
          <span th:if="${e.accessStatus == 'ACTIVE'}" class="badge bg-success">ACTIVE</span>
          <span th:if="${e.accessStatus == 'EXPIRED'}" class="badge bg-warning">EXPIRED</span>
          <span th:if="${e.accessStatus == 'CANCELED'}" class="badge bg-danger">CANCELED</span>
        </td>
        <td>
          <a th:href="@{/admin/enrollments/{id}(id=${e.id})}" class="btn btn-info btn-sm">๐ Xem</a>
          <a th:href="@{/admin/enrollments/delete/{id}(id=${e.id})}" class="btn btn-danger btn-sm"
             onclick="return confirm('Bแบกn chแบฏc muแปn xoรก?')">๐ Xoรก</a>
        </td>
      </tr>
      </tbody>
    </table>

  </div>
</div>
</body>
</html>
