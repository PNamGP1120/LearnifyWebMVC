<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head-resources}"></head>
<body>
<div th:replace="~{base :: layout(~{::content})}">
    <div th:fragment="content">

        <h2 class="my-4" th:text="${course.id != null ? '‚úè S·ª≠a Kho√° h·ªçc' : '‚ûï Th√™m Kho√° h·ªçc'}"></h2>

        <form th:action="@{${course.id != null ? '/admin/courses/' + course.id + '/edit' : '/admin/courses/add'}}"
              th:object="${course}" method="post" class="row g-3 needs-validation" novalidate>

            <!-- Ti√™u ƒë·ªÅ -->
            <div class="col-md-6">
                <label for="title" class="form-label">Ti√™u ƒë·ªÅ</label>
                <input type="text" th:field="*{title}" id="title" class="form-control" required/>
                <div class="text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
            </div>

            <!-- Slug -->
            <div class="col-md-6">
                <label for="slug" class="form-label">Slug</label>
                <input type="text" th:field="*{slug}" id="slug" class="form-control"/>
                <div class="text-danger" th:if="${#fields.hasErrors('slug')}" th:errors="*{slug}"></div>
            </div>

            <!-- M√¥ t·∫£ -->
            <div class="col-12">
                <label for="description" class="form-label">M√¥ t·∫£</label>
                <textarea th:field="*{description}" id="description" rows="4" class="form-control"></textarea>
                <div class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
            </div>

            <!-- Gi√° -->
            <div class="col-md-4">
                <label for="price" class="form-label">Gi√° (VND)</label>
                <input type="number" th:field="*{price}" id="price" class="form-control" min="0" step="1000"/>
                <div class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
            </div>

            <!-- Danh m·ª•c -->
            <div class="col-md-4">
                <label for="categoryId" class="form-label">Danh m·ª•c</label>
                <select th:field="*{categoryId}" id="categoryId" class="form-select" required>
                    <option value="">-- Ch·ªçn danh m·ª•c --</option>
                    <option th:each="cat : ${categories}" th:value="${cat}" th:text="${cat.name}"
                            th:selected="${course.categoryId != null and course.categoryId.id == cat.id}"></option>
                </select>
                <div class="text-danger" th:if="${#fields.hasErrors('categoryId')}" th:errors="*{categoryId}"></div>
            </div>
<!--
             Gi·∫£ng vi√™n 
            <div class="col-md-4">
                <label for="instructorId" class="form-label">Gi·∫£ng vi√™n</label>
                <select th:field="*{instructorId}" id="instructorId" class="form-select" required>
                    <option value="">-- Ch·ªçn gi·∫£ng vi√™n --</option>
                    <option th:each="i : ${instructors}" th:value="${i}" th:text="${i.fullName}"
                            th:selected="${course.instructorId != null and course.instructorId.id == i.id}"></option>
                </select>
                <div class="text-danger" th:if="${#fields.hasErrors('instructorId')}" th:errors="*{instructorId}"></div>
            </div>-->

            <!-- Tr·∫°ng th√°i -->
            <div class="col-md-4">
                <label for="status" class="form-label">Tr·∫°ng th√°i</label>
                <select th:field="*{status}" id="status" class="form-select">
                    <option value="DRAFT">Nh√°p</option>
                    <option value="PUBLISHED">ƒê√£ xu·∫•t b·∫£n</option>
                    <option value="ARCHIVED">ƒê√£ l∆∞u tr·ªØ</option>
                </select>
                <div class="text-danger" th:if="${#fields.hasErrors('status')}" th:errors="*{status}"></div>
            </div>

            <!-- ·∫¢nh ƒë·∫°i di·ªán -->
            <div class="col-md-8">
                <label for="thumbnailUrl" class="form-label">·∫¢nh ƒë·∫°i di·ªán (URL)</label>
                <input type="text" th:field="*{thumbnailUrl}" id="thumbnailUrl" class="form-control"/>
                <div class="text-danger" th:if="${#fields.hasErrors('thumbnailUrl')}" th:errors="*{thumbnailUrl}"></div>
            </div>

            <!-- N√∫t -->
            <div class="col-12">
                <button type="submit" class="btn btn-primary">
                    üíæ <span th:text="${course.id != null ? 'C·∫≠p nh·∫≠t' : 'Th√™m m·ªõi'}"></span>
                </button>
                <a th:href="@{/admin/courses}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
            </div>
        </form>

    </div>
</div>
</body>
</html>
